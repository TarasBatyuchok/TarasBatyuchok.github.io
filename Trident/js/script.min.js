let petElement=document.getElementById("pet"),mouseX=0,mouseY=0,petX=0,petY=0;function updatePosition(){let e=mouseX-petX,t=mouseY-petY;if(Math.abs(e)>10||Math.abs(t)>10){let n=Math.atan2(t,e),r=10*Math.cos(n),o=10*Math.sin(n);petX+=r,petY+=o,petElement.style.left=petX+"px",petElement.style.top=petY+"px"}requestAnimationFrame(updatePosition)}function trackMouse(e){mouseX=e.clientX,mouseY=e.clientY}document.addEventListener("mousemove",trackMouse),petX=window.innerWidth/2,petY=window.innerHeight/2,petElement.style.left=petX+"px",petElement.style.top=petY+"px",updatePosition();const dropdown=document.querySelector(".dropdown"),select=dropdown.querySelector(".select"),caret=document.querySelector(".caret"),menu=document.querySelector(".menu"),option=dropdown.querySelectorAll(".menu li"),selected=dropdown.querySelector(".selected");function burgerMenu(){const e=document.querySelector(".burger-icon"),t=document.querySelector(".burger__button"),n=document.querySelector(".navbar__items");t.addEventListener("click",(function(){document.body.classList.toggle("_lock"),e.classList.toggle("open"),n.classList.toggle("active")}))}function swiperSlider(){new Swiper(".swiper",{autoplay:{delay:3e3},loop:!0}),new Swiper(".slider-team",{slidesPerView:1,spaceBetween:10,loop:!0,navigation:{nextEl:".slider-team__next",prevEl:".slider-team__prev"}}),new Swiper(".in-media__slider",{slidesPerView:3,spaceBetween:30,breakpoints:{1200:{slidesPerView:3,spaceBetween:30},992:{slidesPerView:2,spaceBetween:40},500:{slidesPerView:1,spaceBetween:30},320:{slidesPerView:1,spaceBetween:20}},loop:!0,navigation:{nextEl:".in-media__next",prevEl:".in-media__prev"}})}dropdown.addEventListener("click",(()=>{select.classList.toggle("select-clicked"),menu.classList.toggle("menu-open"),caret.classList.toggle("caret-rotate")})),option.forEach((e=>{e.addEventListener("click",(()=>{selected.innerText=e.innerText}))}));const year=document.querySelector("#year");year.textContent=(new Date).getFullYear(),console.log(year),burgerMenu(),swiperSlider();const tip=document.querySelector(".benefit-descriptions__tip"),hind=document.querySelector(".benefit-descriptions__tip-text");tip.addEventListener("click",(()=>{hind.classList.toggle("active")}));const textJoinCircle=document.querySelector(".orange-circle__text"),textJoinBlack=document.querySelector(".black-circle__text p");textJoinCircle.innerHTML=textJoinCircle.innerText.split("").map(((e,t)=>`<span style="transform:rotate(${6.5*t}deg)">${e}</span>`)).join(""),textJoinBlack.innerHTML=textJoinBlack.innerText.split("").map(((e,t)=>`<span style="transform:rotate(${6.5*t}deg)">${e}</span>`)).join("");const cards=document.querySelectorAll(".card");for(let e=0;e<cards.length;e++){const t=cards[e];t.addEventListener("mousemove",startRotate),t.addEventListener("mouseout",stopRotate)}function startRotate(e){const t=this.querySelector("#card-item"),n=t.offsetHeight/2,r=t.offsetWidth/2;t.style.transform="rotateX("+-(e.offsetY-n)/15+"deg) rotateY("+(e.offsetX-r)/15+"deg)"}function stopRotate(e){this.querySelector("#card-item").style.transform="rotate(0)"}const text=document.querySelector(".circle-text p"),textSecond=document.querySelector(".text-coo p"),textCircleInstagram=document.querySelector(".social__instagram-circle p"),textCircleTelegram=document.querySelector(".social__telegram-circle p");text.innerHTML=text.innerText.split("").map(((e,t)=>`<span style="transform:rotate(${3.7*t}deg)">${e}</span>`)).join(""),textSecond.innerHTML=textSecond.innerText.split("").map(((e,t)=>`<span style="transform:rotate(${3.7*t}deg)">${e}</span>`)).join(""),textCircleInstagram.innerHTML=textCircleInstagram.innerText.split("").map(((e,t)=>`<span style="transform:rotate(${6.5*t}deg)">${e}</span>`)).join(""),textCircleTelegram.innerHTML=textCircleTelegram.innerText.split("").map(((e,t)=>`<span style="transform:rotate(${6.5*t}deg)">${e}</span>`)).join("");const circles=Array.from(document.querySelectorAll(".circle")),textContainers=Array.from(document.querySelectorAll(".text-container")),timeline=document.querySelector(".time-line");function revealCircles(){circles.forEach(((e,t)=>{setTimeout((()=>{e.classList.remove("hidden"),e.classList.add("visible"),textContainers[t].classList.add("visible")}),650*(t+1))}))}function positionTextContainers(){const e=document.querySelector(".time-line").getBoundingClientRect();circles.forEach(((t,n)=>{const r=textContainers[n],o=t.getBoundingClientRect(),i=o.left-e.left,s=o.top-e.top+o.height;r.style.left=i-50+"px",r.style.top=`${s+30}px`}))}function drawSVG(){document.querySelectorAll(".time-line path").forEach((e=>{e.classList.add("squiggle")}))}function handleIntersection(e,t){e.forEach((e=>{e.isIntersecting&&(revealCircles(),positionTextContainers(),drawSVG(),t.unobserve(e.target))}))}const observerOptions={root:null,rootMargin:"0px",threshold:.5},intersectionObserver=new IntersectionObserver(handleIntersection,observerOptions);intersectionObserver.observe(timeline),window.addEventListener("resize",(e=>{setTimeout(revealCircles,0),setTimeout(positionTextContainers,0)}));